<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è™šç©ºç»ˆç«¯ç³»ç»Ÿ - çŸ¥è¯†æŸ¥è¯¢</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --success: #2ecc71;
            --warning: #f39c12;
            --dark: #1a252f;
            --light: #ecf0f1;
            --background: #0f1b2d;
            --card-bg: rgba(255, 255, 255, 0.1);
            --text: #ffffff;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: var(--background);
            color: var(--text);
            min-height: 100vh;
            background-image: radial-gradient(circle at 20% 30%, rgba(52, 152, 219, 0.1) 0%, transparent 50%),
                              radial-gradient(circle at 80% 70%, rgba(231, 76, 60, 0.1) 0%, transparent 50%);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--light);
            text-shadow: 0 0 10px rgba(52, 152, 219, 0.7);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: var(--secondary);
            margin-bottom: 20px;
        }
        
        .login-section {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .dashboard {
            display: none;
        }
        
        .tab-container {
            display: flex;
            margin-bottom: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .tab {
            padding: 15px 25px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            flex: 1;
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            background: rgba(52, 152, 219, 0.2);
            border-bottom: 3px solid var(--secondary);
        }
        
        .tab:hover {
            background: rgba(52, 152, 219, 0.1);
        }
        
        .tab-content {
            display: none;
            background: var(--card-bg);
            padding: 25px;
            border-radius: 10px;
            min-height: 400px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .tab-content.active {
            display: block;
        }
        
        .card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid var(--secondary);
        }
        
        .card h3 {
            margin-bottom: 15px;
            color: var(--secondary);
            display: flex;
            align-items: center;
        }
        
        .card h3 i {
            margin-right: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border-radius: 5px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(0, 0, 0, 0.3);
            color: var(--text);
            font-size: 1rem;
        }
        
        button {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            margin: 5px;
        }
        
        button:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        button.danger {
            background: var(--accent);
        }
        
        button.danger:hover {
            background: #c0392b;
        }
        
        button.success {
            background: var(--success);
        }
        
        button.success:hover {
            background: #27ae60;
        }
        
        .user-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .status-indicators {
            display: flex;
            gap: 15px;
        }
        
        .status-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 15px;
            border-radius: 5px;
            text-align: center;
        }
        
        .knowledge-result {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            min-height: 100px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .knowledge-catalog {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .knowledge-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--warning);
            transition: all 0.3s;
        }
        
        .knowledge-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .knowledge-item h4 {
            margin-bottom: 10px;
            color: var(--secondary);
        }
        
        .access-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-top: 10px;
        }
        
        .access-0 { background: #27ae60; }
        .access-1 { background: #f39c12; }
        .access-2 { background: #e74c3c; }
        .access-3 { background: #9b59b6; }
        
        .logout-btn {
            background: var(--accent);
        }
        
        @media (max-width: 768px) {
            .tab-container {
                flex-direction: column;
            }
            
            .user-info {
                flex-direction: column;
                gap: 15px;
            }
            
            .status-indicators {
                width: 100%;
                justify-content: space-between;
            }
            
            .knowledge-catalog {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒŒ è™šç©ºç»ˆç«¯ç³»ç»Ÿ</h1>
            <div class="subtitle">åŸºäºåŸç¥é¡»å¼¥åœ°åŒºè™šç©ºæŠ€æœ¯æ„å»ºçš„çŸ¥è¯†æŸ¥è¯¢ç³»ç»Ÿ</div>
        </header>
        
        <!-- ç™»å½•åŒºåŸŸ -->
        <section id="loginSection" class="login-section">
            <h2>ç³»ç»Ÿç™»å½•</h2>
            <div class="form-group">
                <label for="username">ç”¨æˆ·å</label>
                <input type="text" id="username" placeholder="è¾“å…¥ç”¨æˆ·å">
            </div>
            <div class="form-group">
                <label for="password">å¯†ç </label>
                <input type="password" id="password" placeholder="è¾“å…¥å¯†ç ">
            </div>
            <button id="loginBtn" class="success">ç™»å½•ç³»ç»Ÿ</button>
            
            <div style="margin-top: 20px; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 5px;">
                <h3>æµ‹è¯•è´¦æˆ·ï¼š</h3>
                <p>æ™®é€šæ°‘ä¼—: commoner / commoner000 (æƒé™ç­‰çº§: 0)</p>
                <p>æ•™ä»¤é™¢å­¦è€…: scholar / scholar123 (æƒé™ç­‰çº§: 1)</p>
                <p>æ•™ä»¤é™¢è´¤è€…: sage / sage456 (æƒé™ç­‰çº§: 2)</p>
                <p>å°å‰ç¥¥è‰ç‹: nahida / nahida789 (æƒé™ç­‰çº§: 3)</p>
            </div>
        </section>
        
        <!-- ä¸»æ§åˆ¶é¢æ¿ -->
        <section id="dashboard" class="dashboard">
            <div class="user-info">
                <div>
                    <h2>æ¬¢è¿, <span id="userDisplayName">ç”¨æˆ·</span>!</h2>
                    <div id="userPermissionDisplay">æƒé™ç­‰çº§: æ™®é€šç”¨æˆ·</div>
                </div>
                <div class="status-indicators">
                    <div class="status-item">
                        <div>å¯è®¿é—®çŸ¥è¯†</div>
                        <div id="accessibleKnowledge">0/0</div>
                    </div>
                    <div class="status-item">
                        <div>æŸ¥è¯¢æ¬¡æ•°</div>
                        <div id="queryCount">0</div>
                    </div>
                </div>
                <button id="logoutBtn" class="logout-btn danger">é€€å‡ºç³»ç»Ÿ</button>
            </div>
            
            <div class="tab-container">
                <div class="tab active" data-tab="knowledge">ğŸ“š çŸ¥è¯†æŸ¥è¯¢</div>
                <div class="tab" data-tab="catalog">ğŸ“– çŸ¥è¯†ç›®å½•</div>
                <div class="tab" data-tab="about">â„¹ï¸ ç³»ç»Ÿä¿¡æ¯</div>
            </div>
            
            <!-- çŸ¥è¯†æŸ¥è¯¢æ ‡ç­¾é¡µ -->
            <div id="knowledgeTab" class="tab-content active">
                <div class="card">
                    <h3><i>ğŸ“š</i> è™šç©ºçŸ¥è¯†åº“æŸ¥è¯¢</h3>
                    <p>ä»ä¸–ç•Œæ ‘ä¸­æå–çŸ¥è¯†ã€‚ä¸åŒæƒé™ç­‰çº§å¯è®¿é—®çš„çŸ¥è¯†èŒƒå›´ä¸åŒã€‚</p>
                    
                    <div class="form-group">
                        <label for="knowledgeTopic">æŸ¥è¯¢ä¸»é¢˜</label>
                        <input type="text" id="knowledgeTopic" placeholder="è¾“å…¥è¦æŸ¥è¯¢çš„çŸ¥è¯†ä¸»é¢˜">
                    </div>
                    <button id="queryKnowledgeBtn">æŸ¥è¯¢çŸ¥è¯†</button>
                    
                    <div class="knowledge-result" id="knowledgeResult">
                        æŸ¥è¯¢ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...
                    </div>
                </div>
            </div>
            
            <!-- çŸ¥è¯†ç›®å½•æ ‡ç­¾é¡µ -->
            <div id="catalogTab" class="tab-content">
                <div class="card">
                    <h3><i>ğŸ“–</i> è™šç©ºçŸ¥è¯†åº“ç›®å½•</h3>
                    <p>ä»¥ä¸‹æ˜¯æ ¹æ®æ‚¨çš„æƒé™å¯è®¿é—®çš„çŸ¥è¯†åˆ—è¡¨ï¼š</p>
                    
                    <div class="knowledge-catalog" id="knowledgeCatalog">
                        <!-- çŸ¥è¯†ç›®å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
            
            <!-- ç³»ç»Ÿä¿¡æ¯æ ‡ç­¾é¡µ -->
            <div id="aboutTab" class="tab-content">
                <div class="card">
                    <h3><i>â„¹ï¸</i> è™šç©ºç»ˆç«¯ç³»ç»Ÿä¿¡æ¯</h3>
                    <p>è™šç©ºç»ˆç«¯æ˜¯é¡»å¼¥åœ°åŒºåŸºäºä¸–ç•Œæ ‘æŠ€æœ¯æ„å»ºçš„çŸ¥è¯†ç®¡ç†ç³»ç»Ÿã€‚</p>
                    
                    <h4 style="margin-top: 20px;">æƒé™ç­‰çº§è¯´æ˜ï¼š</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><span class="access-badge access-0">æƒé™ç­‰çº§ 0</span> - æ™®é€šæ°‘ä¼—ï¼šå¯è®¿é—®åŸºç¡€å…¬å¼€çŸ¥è¯†</li>
                        <li><span class="access-badge access-1">æƒé™ç­‰çº§ 1</span> - æ•™ä»¤é™¢å­¦è€…ï¼šå¯è®¿é—®å­¦æœ¯ç ”ç©¶çŸ¥è¯†</li>
                        <li><span class="access-badge access-2">æƒé™ç­‰çº§ 2</span> - æ•™ä»¤é™¢è´¤è€…ï¼šå¯è®¿é—®æœºå¯†ç®¡ç†çŸ¥è¯†</li>
                        <li><span class="access-badge access-3">æƒé™ç­‰çº§ 3</span> - å°å‰ç¥¥è‰ç‹ï¼šå¯è®¿é—®æ‰€æœ‰çŸ¥è¯†ï¼ŒåŒ…æ‹¬ä¸–ç•Œæ ‘æ ¸å¿ƒæœºå¯†</li>
                    </ul>
                    
                    <h4 style="margin-top: 20px;">ç³»ç»Ÿç‰¹ç‚¹ï¼š</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>åŸºäºä¸–ç•Œæ ‘æŠ€æœ¯ï¼ŒçŸ¥è¯†å®æ—¶æ›´æ–°</li>
                        <li>ä¸¥æ ¼çš„æƒé™åˆ†çº§ï¼Œç¡®ä¿çŸ¥è¯†å®‰å…¨</li>
                        <li>ç®€æ´æ˜“ç”¨çš„æŸ¥è¯¢ç•Œé¢</li>
                        <li>å®Œæ•´çš„çŸ¥è¯†ç›®å½•æµè§ˆ</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <script>
        // è™šæ‹Ÿæ•°æ®åº“ - ä½¿ç”¨localStorageæ¨¡æ‹ŸæŒä¹…åŒ–å­˜å‚¨
        class VirtualDatabase {
            constructor() {
                this.init();
            }
            
            init() {
                // å¦‚æœæœ¬åœ°å­˜å‚¨ä¸­æ²¡æœ‰æ•°æ®ï¼Œåˆå§‹åŒ–é»˜è®¤æ•°æ®
                if (!localStorage.getItem('akasha_knowledge')) {
                    this.initializeDefaultData();
                }
            }
            
            initializeDefaultData() {
                // çŸ¥è¯†åº“æ•°æ®
                const knowledgeBase = [
                    { 
                        topic: "å…ƒç´ ååº”", 
                        content: "æ°´+ç«â†’è’¸å‘ï¼ˆä¼¤å®³Ã—1.5ï¼‰ï¼Œæ°´+å†°â†’å†»ç»“ï¼ˆæ§åˆ¶ï¼‰ï¼Œé›·+ç«â†’è¶…è½½ï¼ˆèŒƒå›´çˆ†ç‚¸ï¼‰ï¼Œè‰+ç«â†’ç‡ƒçƒ§ï¼ˆæŒç»­ä¼¤å®³ï¼‰ï¼Œé›·+å†°â†’è¶…å¯¼ï¼ˆé™ä½é˜²å¾¡ï¼‰", 
                        accessLevel: 0,
                        category: "æˆ˜æ–—çŸ¥è¯†"
                    },
                    { 
                        topic: "é¡»å¼¥å†å²", 
                        content: "å¤§æ…ˆæ ‘ç‹åˆ›å»ºè™šç©ºç³»ç»Ÿï¼Œç°ä»»è‰ç¥ä¸ºå°å‰ç¥¥è‰ç‹ã€‚æ•™ä»¤é™¢è´Ÿè´£ç®¡ç†é¡»å¼¥çš„å­¦æœ¯äº‹åŠ¡ã€‚äº”ç™¾å¹´å‰ï¼Œåç‘äºšç¾å˜å¯¹å¤§æ…ˆæ ‘ç‹é€ æˆäº†ä¸å¯é€†çš„å½±å“ã€‚", 
                        accessLevel: 1,
                        category: "å†å²çŸ¥è¯†"
                    },
                    { 
                        topic: "æ­£æœºä¹‹ç¥", 
                        content: "æ•£å…µï¼ˆå›½å´©ï¼‰æ“æ§çš„å·¨å‹æœºç”²ï¼Œç»“åˆäº†åç‘äºšæŠ€æœ¯ä¸æ„šäººä¼—ç§‘æŠ€ã€‚åœ¨é¡»å¼¥ä¸»çº¿å‰§æƒ…ä¸­ä½œä¸ºä¸»è¦æ•Œäººå‡ºç°ï¼Œæœ€ç»ˆè¢«æ—…è¡Œè€…ä¸å°å‰ç¥¥è‰ç‹å‡»è´¥ã€‚", 
                        accessLevel: 1,
                        category: "æ•Œäººå›¾é‰´"
                    },
                    { 
                        topic: "æ¢¦å¢ƒç”¨é€”", 
                        content: "è™šç©ºç³»ç»ŸåŸæœ¬è®¾è®¡ç”¨äºæ”¶å‰²æ¢¦å¢ƒä½œä¸ºèƒ½é‡æºã€‚é«˜è´¨é‡çš„æ¢¦å¢ƒå¯ä»¥æä¾›æ›´å¤šèƒ½é‡ï¼Œä½†è¿‡åº¦æ”¶å‰²å¯èƒ½å¯¼è‡´å±…æ°‘ç²¾ç¥èé¡ã€‚", 
                        accessLevel: 0,
                        category: "ç³»ç»ŸåŸç†"
                    },
                    { 
                        topic: "æ•™ä»¤é™¢", 
                        content: "é¡»å¼¥çš„å­¦æœ¯ç®¡ç†æœºæ„ï¼Œç›®å‰ç”±è´¤è€…æŒæ§è™šç©ºç³»ç»Ÿã€‚åˆ†ä¸ºå…­ä¸ªå­¦é™¢ï¼Œåˆ†åˆ«ä¸“æ³¨äºä¸åŒé¢†åŸŸçš„ç ”ç©¶ã€‚æ›¾å› å›šç¦å°å‰ç¥¥è‰ç‹å¹¶åˆ¶é€ æ–°ç¥è€Œå¼•å‘å±æœºã€‚", 
                        accessLevel: 2,
                        category: "ç»„ç»‡æœºæ„"
                    },
                    { 
                        topic: "ä¸–ç•Œæ ‘", 
                        content: "æç“¦ç‰¹ä¸–ç•Œçš„çŸ¥è¯†æ ¹æºï¼Œè™šç©ºç³»ç»Ÿä»æ­¤æå–çŸ¥è¯†ã€‚ä¸ä¸–ç•Œæ ‘è¿æ¥è¿‡æ·±å¯èƒ½å¯¼è‡´æ„è¯†è¢«åå™¬ã€‚å¤§æ…ˆæ ‘ç‹ä¸ºæ¶ˆé™¤ç¦å¿ŒçŸ¥è¯†è€Œç‰ºç‰²è‡ªå·±ï¼Œä»ä¸–ç•Œæ ‘ä¸­æŠ¹é™¤ã€‚", 
                        accessLevel: 3,
                        category: "æ ¸å¿ƒæœºå¯†"
                    },
                    { 
                        topic: "è‰ç¥", 
                        content: "å°å‰ç¥¥è‰ç‹çº³è¥¿å¦²ï¼Œç°ä»»è‰ç¥ã€‚æ‹¥æœ‰æœ€é«˜æƒé™è®¿é—®è™šç©ºç³»ç»Ÿï¼Œä½†æ›¾è¢«æ•™ä»¤é™¢è½¯ç¦äº”ç™¾å¹´ã€‚åœ¨æ—…è¡Œè€…å¸®åŠ©ä¸‹é‡è·è‡ªç”±ï¼Œå¹¶é¢†å¯¼é¡»å¼¥èµ°å‘æ–°çš„æœªæ¥ã€‚", 
                        accessLevel: 1,
                        category: "è§’è‰²ä¿¡æ¯"
                    },
                    { 
                        topic: "æ•£å…µ", 
                        content: "æ„šäººä¼—æ‰§è¡Œå®˜ç¬¬å…­å¸­ï¼Œé›·ç¥å½±åˆ¶é€ çš„äººå¶ã€‚å› è¢«æŠ›å¼ƒè€Œäº§ç”Ÿæ€¨æ¨ï¼Œè¯•å›¾é€šè¿‡æ­£æœºä¹‹ç¥æˆä¸ºæ–°ç¥ã€‚åœ¨å¤±è´¥åé€‰æ‹©é‡å¡‘è‡ªæˆ‘ï¼Œæˆä¸ºæµæµªè€…ã€‚", 
                        accessLevel: 1,
                        category: "è§’è‰²ä¿¡æ¯"
                    },
                    { 
                        topic: "å…°é‚£ç½—", 
                        content: "é¡»å¼¥æ£®æ—ä¸­çš„ç¥ç§˜ç”Ÿç‰©ï¼Œåªæœ‰çº¯çœŸçš„å¿ƒçµæ‰èƒ½çœ‹è§ã€‚ä»–ä»¬å®ˆæŠ¤ç€æ£®æ—çš„è®°å¿†ï¼Œé€šè¿‡ã€Œæ— å¿§èŠ‚ã€ç­‰ä»ªå¼ç»´æŒæ£®æ—çš„å¹³è¡¡ã€‚", 
                        accessLevel: 0,
                        category: "ç”Ÿç‰©å›¾é‰´"
                    },
                    { 
                        topic: "ç¦å¿ŒçŸ¥è¯†", 
                        content: "æ¥è‡ªä¸–ç•Œä¹‹å¤–çš„å±é™©çŸ¥è¯†ï¼Œä¼šæ±¡æŸ“ä¸–ç•Œæ ‘å¹¶å¼•å‘ç¾éš¾ã€‚å¤§æ…ˆæ ‘ç‹ä¸ºæ¶ˆé™¤ç¦å¿ŒçŸ¥è¯†è€Œç‰ºç‰²ï¼Œè¿™ä¹Ÿæ˜¯é¡»å¼¥å†å²ä¸Šå¤šæ¬¡ç¾éš¾çš„æ ¹æºã€‚", 
                        accessLevel: 3,
                        category: "æ ¸å¿ƒæœºå¯†"
                    },
                    { 
                        topic: "è™šç©ºç»ˆç«¯åŸç†", 
                        content: "é€šè¿‡æ”¶å‰²æ¢¦å¢ƒèƒ½é‡ç»´æŒè¿è¡Œï¼Œå°†çŸ¥è¯†ç›´æ¥è¾“å…¥ç”¨æˆ·æ„è¯†ã€‚è¿™ç§æŠ€æœ¯è™½ç„¶é«˜æ•ˆï¼Œä½†é•¿æœŸä½¿ç”¨å¯èƒ½å¯¼è‡´ç”¨æˆ·å¤±å»ç‹¬ç«‹æ€è€ƒèƒ½åŠ›ã€‚", 
                        accessLevel: 2,
                        category: "ç³»ç»ŸåŸç†"
                    },
                    { 
                        topic: "æ•™ä»¤é™¢å…­å­¦æ´¾", 
                        content: "ç´ è®ºæ´¾ï¼ˆå…ƒç´ å­¦ï¼‰ã€æ˜è®ºæ´¾ï¼ˆå¤©æ–‡å­¦ï¼‰ã€å¦™è®ºæ´¾ï¼ˆå»ºç­‘å­¦ï¼‰ã€çŸ¥è®ºæ´¾ï¼ˆè¯­è¨€å­¦ï¼‰ã€å› è®ºæ´¾ï¼ˆå†å²å­¦ï¼‰ã€ç”Ÿè®ºæ´¾ï¼ˆç”Ÿç‰©å­¦ï¼‰ã€‚å„å­¦æ´¾åœ¨æ•™ä»¤é™¢ä¸­æœ‰ä¸åŒåœ°ä½å’ŒèŒè´£ã€‚", 
                        accessLevel: 1,
                        category: "ç»„ç»‡æœºæ„"
                    }
                ];
                
                localStorage.setItem('akasha_knowledge', JSON.stringify(knowledgeBase));
                
                // ç”¨æˆ·æ•°æ®
                const users = [
                    { username: "commoner", password: "commoner000", permission: 0, displayName: "æ™®é€šæ°‘ä¼—" },
                    { username: "scholar", password: "scholar123", permission: 1, displayName: "æ•™ä»¤é™¢å­¦è€…" },
                    { username: "sage", password: "sage456", permission: 2, displayName: "æ•™ä»¤é™¢è´¤è€…" },
                    { username: "nahida", password: "nahida789", permission: 3, displayName: "å°å‰ç¥¥è‰ç‹" }
                ];
                
                localStorage.setItem('akasha_users', JSON.stringify(users));
                
                // ç³»ç»ŸçŠ¶æ€
                const systemStatus = {
                    queryCount: 0,
                    systemLog: []
                };
                
                localStorage.setItem('akasha_system', JSON.stringify(systemStatus));
            }
            
            // è·å–çŸ¥è¯†åº“
            getKnowledge() {
                return JSON.parse(localStorage.getItem('akasha_knowledge') || '[]');
            }
            
            // è·å–ç”¨æˆ·
            getUser(username, password) {
                const users = JSON.parse(localStorage.getItem('akasha_users') || '[]');
                return users.find(u => u.username === username && u.password === password);
            }
            
            // è·å–ç³»ç»ŸçŠ¶æ€
            getSystemStatus() {
                return JSON.parse(localStorage.getItem('akasha_system') || '{}');
            }
            
            // æ›´æ–°ç³»ç»ŸçŠ¶æ€
            updateSystemStatus(updates) {
                const status = this.getSystemStatus();
                Object.assign(status, updates);
                localStorage.setItem('akasha_system', JSON.stringify(status));
            }
            
            // æ·»åŠ ç³»ç»Ÿæ—¥å¿—
            addSystemLog(message) {
                const status = this.getSystemStatus();
                status.systemLog = status.systemLog || [];
                status.systemLog.unshift({
                    timestamp: new Date().toLocaleString(),
                    message: message
                });
                
                // åªä¿ç•™æœ€è¿‘50æ¡æ—¥å¿—
                if (status.systemLog.length > 50) {
                    status.systemLog = status.systemLog.slice(0, 50);
                }
                
                localStorage.setItem('akasha_system', JSON.stringify(status));
            }
        }

        // è™šç©ºç»ˆç«¯ç³»ç»Ÿç±»
        class AkashaSystem {
            constructor() {
                this.db = new VirtualDatabase();
                this.currentUser = null;
                this.initEventListeners();
            }
            
            initEventListeners() {
                // ç™»å½•æŒ‰é’®
                document.getElementById('loginBtn').addEventListener('click', () => this.login());
                
                // é€€å‡ºæŒ‰é’®
                document.getElementById('logoutBtn').addEventListener('click', () => this.logout());
                
                // æ ‡ç­¾é¡µåˆ‡æ¢
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.addEventListener('click', () => this.switchTab(tab.dataset.tab));
                });
                
                // çŸ¥è¯†æŸ¥è¯¢
                document.getElementById('queryKnowledgeBtn').addEventListener('click', () => this.queryKnowledge());
                
                // å…è®¸æŒ‰Enteré”®ç™»å½•
                document.getElementById('password').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.login();
                });
            }
            
            login() {
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                if (!username || !password) {
                    alert('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ');
                    return;
                }
                
                const user = this.db.getUser(username, password);
                if (user) {
                    this.currentUser = user;
                    this.showDashboard();
                    this.updateDashboard();
                    this.db.addSystemLog(`ç”¨æˆ· ${user.displayName} ç™»å½•ç³»ç»Ÿ`);
                } else {
                    alert('ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯');
                }
            }
            
            logout() {
                this.db.addSystemLog(`ç”¨æˆ· ${this.currentUser.displayName} é€€å‡ºç³»ç»Ÿ`);
                this.currentUser = null;
                this.hideDashboard();
            }
            
            showDashboard() {
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('dashboard').style.display = 'block';
            }
            
            hideDashboard() {
                document.getElementById('loginSection').style.display = 'block';
                document.getElementById('dashboard').style.display = 'none';
                
                // æ¸…ç©ºè¡¨å•
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
            }
            
            switchTab(tabName) {
                // éšè—æ‰€æœ‰æ ‡ç­¾å†…å®¹
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                // å–æ¶ˆæ‰€æœ‰æ ‡ç­¾æ¿€æ´»çŠ¶æ€
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾å†…å®¹
                document.getElementById(tabName + 'Tab').classList.add('active');
                
                // æ¿€æ´»é€‰ä¸­çš„æ ‡ç­¾
                document.querySelector(`.tab[data-tab="${tabName}"]`).classList.add('active');
                
                // æ›´æ–°æ ‡ç­¾é¡µç‰¹å®šå†…å®¹
                this.updateTabContent(tabName);
            }
            
            updateTabContent(tabName) {
                switch(tabName) {
                    case 'knowledge':
                        // çŸ¥è¯†æŸ¥è¯¢é¡µä¸éœ€è¦ç‰¹æ®Šæ›´æ–°
                        break;
                    case 'catalog':
                        this.updateCatalogTab();
                        break;
                    case 'about':
                        // å…³äºé¡µä¸éœ€è¦ç‰¹æ®Šæ›´æ–°
                        break;
                }
            }
            
            updateDashboard() {
                if (!this.currentUser) return;
                
                // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
                document.getElementById('userDisplayName').textContent = this.currentUser.displayName;
                
                const permissionTexts = [
                    'æ™®é€šæ°‘ä¼—',
                    'æ•™ä»¤é™¢å­¦è€…',
                    'æ•™ä»¤é™¢è´¤è€…',
                    'å°å‰ç¥¥è‰ç‹'
                ];
                
                document.getElementById('userPermissionDisplay').textContent = 
                    `æƒé™ç­‰çº§: ${permissionTexts[this.currentUser.permission]}`;
                
                // æ›´æ–°å¯è®¿é—®çŸ¥è¯†æ•°é‡
                const knowledge = this.db.getKnowledge();
                const accessibleKnowledge = knowledge.filter(k => k.accessLevel <= this.currentUser.permission);
                document.getElementById('accessibleKnowledge').textContent = 
                    `${accessibleKnowledge.length}/${knowledge.length}`;
                
                // æ›´æ–°æŸ¥è¯¢æ¬¡æ•°
                const status = this.db.getSystemStatus();
                document.getElementById('queryCount').textContent = status.queryCount || 0;
            }
            
            updateCatalogTab() {
                // æ›´æ–°çŸ¥è¯†ç›®å½•
                const knowledge = this.db.getKnowledge();
                const accessibleKnowledge = knowledge.filter(k => k.accessLevel <= this.currentUser.permission);
                
                // æŒ‰ç±»åˆ«åˆ†ç»„
                const categories = {};
                accessibleKnowledge.forEach(k => {
                    if (!categories[k.category]) {
                        categories[k.category] = [];
                    }
                    categories[k.category].push(k);
                });
                
                let catalogHTML = '';
                
                Object.keys(categories).forEach(category => {
                    catalogHTML += `<h3 style="margin-top: 20px; color: var(--secondary);">${category}</h3>`;
                    
                    categories[category].forEach(k => {
                        catalogHTML += `
                            <div class="knowledge-item">
                                <h4>${k.topic}</h4>
                                <p>${k.content.substring(0, 100)}...</p>
                                <span class="access-badge access-${k.accessLevel}">
                                    æƒé™ç­‰çº§ ${k.accessLevel}
                                </span>
                            </div>
                        `;
                    });
                });
                
                document.getElementById('knowledgeCatalog').innerHTML = catalogHTML;
            }
            
            queryKnowledge() {
                if (!this.currentUser) return;
                
                const topic = document.getElementById('knowledgeTopic').value;
                if (!topic) {
                    alert('è¯·è¾“å…¥æŸ¥è¯¢ä¸»é¢˜');
                    return;
                }
                
                // æ›´æ–°æŸ¥è¯¢æ¬¡æ•°
                const status = this.db.getSystemStatus();
                status.queryCount = (status.queryCount || 0) + 1;
                this.db.updateSystemStatus({ queryCount: status.queryCount });
                this.updateDashboard();
                
                // æŸ¥æ‰¾ç›¸å…³çŸ¥è¯†
                const knowledge = this.db.getKnowledge();
                const accessibleKnowledge = knowledge.filter(k => k.accessLevel <= this.currentUser.permission);
                
                // æŸ¥æ‰¾åŒ¹é…çš„çŸ¥è¯†
                const results = accessibleKnowledge.filter(k => 
                    k.topic.toLowerCase().includes(topic.toLowerCase()) || 
                    k.content.toLowerCase().includes(topic.toLowerCase())
                );
                
                let resultHTML = '';
                
                if (results.length > 0) {
                    resultHTML = `<h4>æ‰¾åˆ° ${results.length} æ¡ç›¸å…³ç»“æœï¼š</h4>`;
                    
                    results.forEach(k => {
                        resultHTML += `
                            <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                <h5 style="color: var(--secondary); margin-bottom: 5px;">${k.topic}</h5>
                                <p>${k.content}</p>
                                <span class="access-badge access-${k.accessLevel}" style="margin-top: 10px;">
                                    æƒé™ç­‰çº§ ${k.accessLevel} Â· ${k.category}
                                </span>
                            </div>
                        `;
                    });
                } else {
                    // æ£€æŸ¥æ˜¯å¦æœ‰ç›¸å…³ä½†æƒé™ä¸è¶³çš„çŸ¥è¯†
                    const restrictedResults = knowledge.filter(k => 
                        (k.topic.toLowerCase().includes(topic.toLowerCase()) || 
                         k.content.toLowerCase().includes(topic.toLowerCase())) &&
                        k.accessLevel > this.currentUser.permission
                    );
                    
                    if (restrictedResults.length > 0) {
                        resultHTML = `
                            <div style="color: var(--warning);">
                                <h4>æ‰¾åˆ°ç›¸å…³ç»“æœï¼Œä½†æ‚¨çš„æƒé™ä¸è¶³ï¼š</h4>
                                <p>ä»¥ä¸‹çŸ¥è¯†éœ€è¦æ›´é«˜æƒé™ç­‰çº§æ‰èƒ½è®¿é—®ï¼š</p>
                                <ul>
                        `;
                        
                        restrictedResults.forEach(k => {
                            resultHTML += `<li>${k.topic} (éœ€è¦æƒé™ç­‰çº§ ${k.accessLevel})</li>`;
                        });
                        
                        resultHTML += `</ul></div>`;
                    } else {
                        resultHTML = '<p style="color: var(--accent);">æœªæ‰¾åˆ°ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œè¯·å°è¯•å…¶ä»–æŸ¥è¯¢è¯ã€‚</p>';
                    }
                }
                
                document.getElementById('knowledgeResult').innerHTML = resultHTML;
                this.db.addSystemLog(`ç”¨æˆ· ${this.currentUser.displayName} æŸ¥è¯¢ä¸»é¢˜: ${topic}`);
            }
        }

        // åˆå§‹åŒ–ç³»ç»Ÿ
        const akasha = new AkashaSystem();
    </script>
</body>
</html>